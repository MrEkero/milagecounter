<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <title>CSV Data för Dagens Datum</title>
</head>
<body>
    <h1>Data för <span id="today-date"></span></h1>
    <table border="1">
        <tr>
            <th>Datum</th>
            <th>Värde</th>
        </tr>
        <tr id="data-row">
            <td colspan="2">Laddar data...</td>
        </tr>
    </table>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('today-date').textContent = today;

            fetch('data.csv')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.text();
                })
                .then(data => {
                    const rows = data.trim().split('\\n').map(row => row.split(','));
                    const todayRow = rows.find(row => row[0] === today);

                    const dataRow = document.getElementById('data-row');
                    if (todayRow) {
                        dataRow.innerHTML = `<td>${todayRow[0]}</td><td>${parseFloat(todayRow[1]).toFixed(2)}</td>`;
                    } else {
                        dataRow.innerHTML = '<td colspan="2">Ingen data för dagens datum.</td>';
                    }
                })
                .catch(error => {
                    console.error('Error fetching the CSV file:', error);
                    document.getElementById('data-row').innerHTML = '<td colspan="2">Kunde inte läsa in data.</td>';
                });
        });
    </script>
</body>
</html>